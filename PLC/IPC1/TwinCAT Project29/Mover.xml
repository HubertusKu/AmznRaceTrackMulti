<?xml version="1.0" encoding="utf-8"?>
<project xmlns="http://www.plcopen.org/xml/tc6_0200">
  <fileHeader companyName="Beckhoff Automation GmbH" productName="TwinCAT PLC Control" productVersion="3.5.20.30" creationDateTime="2025-01-24T10:31:09.1340553" />
  <contentHeader name="MC3_Multi_IPC1" modificationDateTime="2025-01-24T10:31:09.1400543">
    <coordinateInfo>
      <fbd>
        <scaling x="1" y="1" />
      </fbd>
      <ld>
        <scaling x="1" y="1" />
      </ld>
      <sfc>
        <scaling x="1" y="1" />
      </sfc>
    </coordinateInfo>
    <addData>
      <data name="http://www.3s-software.com/plcopenxml/projectinformation" handleUnknown="implementation">
        <ProjectInformation />
      </data>
    </addData>
  </contentHeader>
  <types>
    <dataTypes>
      <dataType name="DUT">
        <baseType>
          <struct>
            <variable name="IsDone">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Returns wether the execution of the method is done. </xhtml>
              </documentation>
            </variable>
            <variable name="IsBusy">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Returns wether the execution of the method is busy. </xhtml>
              </documentation>
            </variable>
            <variable name="HasError">
              <type>
                <BOOL />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Returns wether the execution of the method is busy. </xhtml>
              </documentation>
            </variable>
            <variable name="HRESULT">
              <type>
                <derived name="GLOBAL.HRESULT" />
              </type>
              <addData>
                <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
                  <Attributes>
                    <Attribute Name="GUID" Value="18071995-0000-0000-0000-000000000019" />
                    <Attribute Name="GlobalType" Value="" />
                  </Attributes>
                </data>
              </addData>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> Returns the HRESULT to the call. </xhtml>
              </documentation>
            </variable>
          </struct>
        </baseType>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
            <Attributes>
              <Attribute Name="object_name" Value="DUT" />
            </Attributes>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">TYPE ST_XtsCommandFeedback :
STRUCT
		(* Returns wether the execution of the method is done. *)
		IsDone : BOOL;
		(* Returns wether the execution of the method is busy. *)
		IsBusy : BOOL;
		(* Returns wether the execution of the method is busy. *)
		HasError : BOOL;
		(* Returns the HRESULT to the call. *)
		{attribute 'GUID' := '18071995-0000-0000-0000-000000000019'}
		{attribute 'GlobalType'}
		HRESULT : GLOBAL.HRESULT;
	END_STRUCT
END_TYPE

</xhtml>
            </InterfaceAsPlainText>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>c0343946-28b4-4019-897a-aad4e77d6aa1</ObjectId>
          </data>
        </addData>
      </dataType>
      <dataType name="ST_MoverInfo">
        <baseType>
          <struct>
            <variable name="MoverOtcid">
              <type>
                <string length="20" />
              </type>
            </variable>
            <variable name="IsVirtuell">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="IsActive">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="ActPos">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="ActVelo">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="PlanarMoverCommandMode">
              <type>
                <string length="30" />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml"> MC_Planar_Mover_Command_Mode;</xhtml>
              </documentation>
            </variable>
            <variable name="State">
              <type>
                <string length="20" />
              </type>
              <documentation>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">MC_Planar_State;</xhtml>
              </documentation>
            </variable>
            <variable name="Positition">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="Track">
              <type>
                <string length="20" />
              </type>
            </variable>
            <variable name="Error">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="ErrorID">
              <type>
                <UDINT />
              </type>
            </variable>
            <variable name="TargetTrackPosition">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="TargetTrack">
              <type>
                <derived name="Otcid" />
              </type>
            </variable>
            <variable name="RemainingDistance">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="Gap">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitVelo">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitAcc">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitDec">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitJerk">
              <type>
                <LREAL />
              </type>
            </variable>
          </struct>
        </baseType>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">TYPE ST_MoverInfo :
STRUCT

	MoverOtcid :  STRING(20);
	IsVirtuell : BOOL;
	IsActive : BOOL;
	ActPos: LREAL;
	ActVelo: LREAL;
	PlanarMoverCommandMode :STRING(30);// MC_Planar_Mover_Command_Mode;
	State : STRING(20);//MC_Planar_State;
	Positition : LREAL;
	Track :STRING(20);
	Error: BOOL;
	ErrorID : UDINT;
	TargetTrackPosition  : LREAL;
	TargetTrack : Otcid;
	RemainingDistance : LREAL;
	Gap : LREAL;
	LimitVelo : LREAL; 
	LimitAcc : LREAL;
	LimitDec : LREAL;
	LimitJerk : LREAL;
	
END_STRUCT
END_TYPE
</xhtml>
            </InterfaceAsPlainText>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>078d4599-567e-474f-b4fc-f0d653375f67</ObjectId>
          </data>
        </addData>
      </dataType>
      <dataType name="ST_MoverOnTrackInfo">
        <baseType>
          <struct>
            <variable name="TargetPosition">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="TargetTrack">
              <type>
                <derived name="Otcid" />
              </type>
            </variable>
            <variable name="Remainingdistance">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="Gap">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitV">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitA">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitD">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="LimitJ">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="GapMode">
              <type>
                <derived name="MC.MC_GAP_MODE_ON_TRACK" />
              </type>
            </variable>
            <variable name="DynamicMode">
              <type>
                <derived name="MC.MC_DYNAMIC_MODE_ON_TRACK" />
              </type>
            </variable>
            <variable name="Movementtype">
              <type>
                <derived name="MC.MC_MOVEMENT_TYPE_ON_TRACK" />
              </type>
            </variable>
          </struct>
        </baseType>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">TYPE ST_MoverOnTrackInfo :
STRUCT
	TargetPosition 		: LREAL;
	TargetTrack 		: Otcid;
	Remainingdistance 	: LREAL;
	Gap 				: LREAL;
	LimitV 				: LREAL;
	LimitA 				: LREAL;
	LimitD 				: LREAL;
	LimitJ 				: LREAL;
	GapMode				: MC.MC_GAP_MODE_ON_TRACK;
	DynamicMode			: MC.MC_DYNAMIC_MODE_ON_TRACK;
	Movementtype		: MC.MC_MOVEMENT_TYPE_ON_TRACK;
	
END_STRUCT
END_TYPE
</xhtml>
            </InterfaceAsPlainText>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>0e1293e3-4563-4c2c-947a-9b87389363ac</ObjectId>
          </data>
        </addData>
      </dataType>
    </dataTypes>
    <pous>
      <pou name="FB_Mover" pouType="functionBlock">
        <interface>
          <localVars>
            <variable name="_bIsInitialized">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="fbPlanarMover">
              <type>
                <derived name="MC_PlanarMover" />
              </type>
            </variable>
            <variable name="fbPlanarFeedback">
              <type>
                <derived name="MC_PlanarFeedback" />
              </type>
            </variable>
            <variable name="trackTrail">
              <type>
                <derived name="MC_PlanarTrackTrail" />
              </type>
            </variable>
            <variable name="SyncMoverFeedback">
              <type>
                <derived name="Tc3_Mc3PlanarMotion.MC_PlanarFeedbackGearInPosOnTrackWithMasterMover" />
              </type>
            </variable>
            <variable name="_GearInOptions">
              <type>
                <derived name="Tc3_Mc3PlanarMotion.ST_GearInPosOnTrackWithMasterMoverOptions" />
              </type>
            </variable>
            <variable name="_stMoveOnTrackOptions">
              <type>
                <derived name="ST_MoveOnTrackOptions" />
              </type>
            </variable>
            <variable name="_stLeaveSystemAtOptions">
              <type>
                <derived name="ST_LeaveSystemAtOptions" />
              </type>
            </variable>
            <variable name="_syncTrail">
              <type>
                <derived name="MC_PlanarTrackTrail" />
              </type>
            </variable>
            <variable name="CmdFeedback">
              <type>
                <derived name="XtsCommandFeedback" />
              </type>
            </variable>
            <variable name="ipXtsMover">
              <type>
                <derived name="I_XtsXlMover1" />
              </type>
            </variable>
            <variable name="ipXtsProcessingUnit">
              <type>
                <derived name="I_XtsProcessingUnit1" />
              </type>
            </variable>
            <variable name="_stMoverInfos">
              <type>
                <derived name="ST_MoverInfo" />
              </type>
            </variable>
            <variable name="_stMoverOnTrackInfos">
              <type>
                <derived name="ST_MoverOnTrackInfo" />
              </type>
            </variable>
            <variable name="_nextMcTrackOid">
              <type>
                <derived name="OTCID" />
              </type>
            </variable>
            <variable name="_stDynamics">
              <type>
                <derived name="DynamicConstraint_PathXY" />
              </type>
            </variable>
            <variable name="_TargetTrack">
              <type>
                <UDINT />
              </type>
            </variable>
            <variable name="_ReWork">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="_partConfig">
              <type>
                <UINT />
              </type>
            </variable>
            <variable name="_InSync">
              <type>
                <BOOL />
              </type>
            </variable>
            <variable name="_PositionOnTrack">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="_Track">
              <type>
                <derived name="OTCID" />
              </type>
            </variable>
            <variable name="_distToEndOfTrack">
              <type>
                <LREAL />
              </type>
            </variable>
            <variable name="fbResult">
              <type>
                <derived name="FB_TcMessage" />
              </type>
            </variable>
            <variable name="_ipComObject">
              <type>
                <derived name="ITComObject" />
              </type>
            </variable>
            <variable name="PID_OnTrackInfos">
              <type>
                <derived name="PTCID" />
              </type>
              <initialValue>
                <simpleValue value="16#5030180" />
              </initialValue>
            </variable>
            <variable name="bInit">
              <type>
                <BOOL />
              </type>
            </variable>
            <addData>
              <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">{attribute 'no_assign'}
FUNCTION_BLOCK FB_Mover IMPLEMENTS I_Mover
VAR_INPUT
END_VAR
VAR_OUTPUT
END_VAR
VAR
	_bIsInitialized: BOOL;	

	fbPlanarMover : MC_PlanarMover;
	fbPlanarFeedback: MC_PlanarFeedback;
	trackTrail: MC_PlanarTrackTrail;
	SyncMoverFeedback: Tc3_Mc3PlanarMotion.MC_PlanarFeedbackGearInPosOnTrackWithMasterMover;
	
	_GearInOptions: Tc3_Mc3PlanarMotion.ST_GearInPosOnTrackWithMasterMoverOptions;
	_stMoveOnTrackOptions: ST_MoveOnTrackOptions;
	_stLeaveSystemAtOptions : ST_LeaveSystemAtOptions;
	
	_syncTrail : MC_PlanarTrackTrail;
	
	CmdFeedback :  XtsCommandFeedback;
	ipXtsMover:   I_XtsXlMover1;
	ipXtsProcessingUnit:  I_XtsProcessingUnit1;

	_stMoverInfos : ST_MoverInfo;	
	_stMoverOnTrackInfos : ST_MoverOnTrackInfo;

	_nextMcTrackOid: OTCID;
	_stDynamics: DynamicConstraint_PathXY;
	_TargetTrack : UDINT;
	_ReWork : BOOL;
	_partConfig: UINT;
	_InSync :BOOL; 
	_PositionOnTrack : LREAL;
	_Track : OTCID; 
	_distToEndOfTrack : LREAL;

	fbResult						: FB_TcMessage;
	_ipComObject					: ITComObject;
	PID_OnTrackInfos				: PTCID := 16#05030180;
	bInit 							: BOOL;
END_VAR
</xhtml>
                </InterfaceAsPlainText>
              </data>
            </addData>
          </localVars>
          <addData>
            <data name="http://www.3s-software.com/plcopenxml/pouinheritance" handleUnknown="implementation">
              <Inheritance>
                <Implements>I_Mover</Implements>
              </Inheritance>
            </data>
            <data name="http://www.3s-software.com/plcopenxml/attributes" handleUnknown="implementation">
              <Attributes>
                <Attribute Name="no_assign" Value="" />
              </Attributes>
            </data>
          </addData>
        </interface>
        <body>
          <ST>
            <xhtml xmlns="http://www.w3.org/1999/xhtml" />
          </ST>
        </body>
        <addData>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="CycleUpdate" ObjectId="f03058aa-6296-4ef4-9484-d5b71f801a75">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">IF NOT _bIsInitialized THEN
	RETURN;
END_IF

fbPlanarMover.GetTrackTrailInformation(trackTrail);
_PositionOnTrack := fbPlanarMover.MCTOPLC.SETONTRACK.SetPos;
IF fbPlanarMover.MCTOPLC.SETONTRACK.TrackOID&lt;&gt;0 THEN 
	_Track := fbPlanarMover.MCTOPLC.SETONTRACK.TrackOID;
	_trackEnum := F_GetTrackEnum(fbPlanarMover.MCTOPLC.SETONTRACK.TrackOID); 
	_distToEndOfTrack := GVL_Mc.aMCTracks[_trackEnum].GetLength()-_PositionOnTrack;
END_IF

fbPlanarMover.Update();
fbPlanarFeedback.Update();
SyncMoverFeedback.Update();

_stMoverinfos.MoverOtcid :=TO_STRING(fbPlanarMover.MCTOPLC.STD.MoverOID) ;
_stMoverinfos.IsActive := ipXtsMover.GetIsActive(0);
_stMoverinfos.ActPos :=  ipXtsMover.GetPositionInfo_trackPosition(0);
_stMoverinfos.ActVelo := fbPlanarMover.MCTOPLC.SETONTRACK.SetVelo;
_stMoverinfos.IsVirtuell := ipXtsMover.GetIsVirtualFeedbackEnabled(0);
_stMoverinfos.Positition :=	fbPlanarMover.MCTOPLC.SETONTRACK.SetPos;
_stMoverinfos.Track := TO_STRING(_trackEnum);
_stMoverinfos.Error := fbPlanarMover.Error;
_stMoverinfos.ErrorID := fbPlanarMover.ErrorId;
_stMoverinfos.PlanarMoverCommandMode :=  TO_STRING(fbPlanarMover.MCTOPLC.STD.CommandMode);
_stMoverinfos.State :=  TO_STRING(fbPlanarMover.MCTOPLC.STD.State);
_stMoverinfos.Gap := _stMoverOnTrackInfos.Gap;
_stMoverinfos.LimitAcc := _stMoverOnTrackInfos.LimitA;
_stMoverinfos.LimitDec := _stMoverOnTrackInfos.LimitD;
_stMoverinfos.LimitJerk := _stMoverOnTrackInfos.LimitJ;
_stMoverinfos.LimitVelo := _stMoverOnTrackInfos.LimitV;
_stMoverinfos.TargetTrackPosition := _stMoverOnTrackInfos.TargetPosition;
_stMoverinfos.TargetTrack := _stMoverOnTrackInfos.TargetTrack;
_stMoverinfos.RemainingDistance := _stMoverOnTrackInfos.Remainingdistance;




UpdateXtsTrack();
GetOnTrackInfos() ;



</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">

METHOD CycleUpdate : BOOL
VAR_INPUT
END_VAR

VAR_INST
	_trackEnum: e_TrackNum;

END_VAR</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="GetComObject" ObjectId="91c739c1-09e3-4950-bc67-3b2aa97918ba">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <inputVars>
                  <variable name="nObjectId">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD GetComObject : BOOL
VAR_INPUT
	nObjectId: OTCID;
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </inputVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">IF FW_ObjMgr_GetObjectInstance(	oid		:= nObjectId, 
								iid		:= TC_GLOBAL_IID_LIST.IID_ITComObject, 
								pipUnk	:= ADR(_ipComObject)) = 0
THEN
	GetComObject := TRUE;
END_IF</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD GetComObject : BOOL
VAR_INPUT
	nObjectId: OTCID;
END_VAR
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="GetOnTrackInfos" ObjectId="80c76236-e464-41c7-ade3-18309c2f7e10">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <localVars>
                  <variable name="nData">
                    <type>
                      <UDINT />
                    </type>
                    <initialValue>
                      <simpleValue value="SIZEOF(_stMoverOnTrackInfos)" />
                    </initialValue>
                  </variable>
                  <variable name="pData">
                    <type>
                      <derived name="PVOID" />
                    </type>
                    <initialValue>
                      <simpleValue value="ADR(_stMoverOnTrackInfos)" />
                    </initialValue>
                  </variable>
                  <variable name="stEventEntry">
                    <type>
                      <derived name="TcEventEntry" />
                    </type>
                  </variable>
                  <variable name="pstEventEntry">
                    <type>
                      <derived name="REFERENCE TO TcEventEntry" />
                    </type>
                    <initialValue>
                      <simpleValue value="stEventEntry" />
                    </initialValue>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD GetOnTrackInfos : BOOL
VAR
	nData 			: UDINT := SIZEOF(_stMoverOnTrackInfos);
	pData 			: PVOID := ADR(_stMoverOnTrackInfos);
	stEventEntry	: TcEventEntry;
	pstEventEntry	: REFERENCE TO TcEventEntry REF= stEventEntry;
END_VAR
VAR_INST
	hResult : HRESULT;
	bError : BOOL;
END_VAR</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </localVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">bError := FALSE;

IF _ipComObject &lt;&gt; 0 THEN 
	 hResult := 	_ipComObject.TcgetObjPara(		pid := PID_OnTrackInfos,
													nData := nData,
													pData := pData,
													pgp := 0); 	
	IF hResult = 0 THEN
		GetOnTrackInfos := TRUE;
ELSE
	HRESULTAdsErr_TO_TcEventEntry(hResult,stEventEntry);
	IF NOT fbResult.EqualsToEventEntryEx( stOther := stEventEntry) THEN
		fbResult.CreateEx(stEventEntry, 0);
		fbResult.Send(0);
		fbResult.Release();
	END_IF
		bError := TRUE;
	END_IF							
END_IF
</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD GetOnTrackInfos : BOOL
VAR
	nData 			: UDINT := SIZEOF(_stMoverOnTrackInfos);
	pData 			: PVOID := ADR(_stMoverOnTrackInfos);
	stEventEntry	: TcEventEntry;
	pstEventEntry	: REFERENCE TO TcEventEntry REF= stEventEntry;
END_VAR
VAR_INST
	hResult : HRESULT;
	bError : BOOL;
END_VAR</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="Init" ObjectId="64dda721-646a-4cf1-ab7d-9993c2a9294b">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <inputVars>
                  <variable name="XtsMover">
                    <type>
                      <derived name="I_XtsXlMover1" />
                    </type>
                  </variable>
                  <variable name="XtsProcessingUnit">
                    <type>
                      <derived name="I_XtsProcessingUnit1" />
                    </type>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Init : BOOL
VAR_INPUT

	XtsMover:   I_XtsXlMover1;
	XtsProcessingUnit :  I_XtsProcessingUnit1;
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </inputVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">


ipXtsMover:= XtsMover;
ipXtsProcessingUnit :=  XtsProcessingUnit;

_stMoveOnTrackOptions.direction := MC_Direction.mcDirectionPositive;
_stMoveOnTrackOptions.gapMode := MC_GAP_MODE_ON_TRACK.Fast1D;
_stMoveOnTrackOptions.gap:= 800;

_syncTrail.AddTrack(track:= GVL_Mc.aMCTracks[E_TrackNum.Small]); 
_syncTrail.AddTrack(track:= GVL_Mc.aMCTracks[E_TrackNum.MainStart]); 


//_stDynamics.SetValuesVADJ(500, 4000, 4000, 10000);




	_bIsInitialized := TRUE;
	Init := TRUE;

IF NOT bInit THEN
	IF GetComObject(nObjectId:=fbPlanarMover.MCTOPLC.STD.MoverOID) THEN
		bInit:=TRUE;
	END_IF
	RETURN;
END_IF

</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Init : BOOL
VAR_INPUT

	XtsMover:   I_XtsXlMover1;
	XtsProcessingUnit :  I_XtsProcessingUnit1;
END_VAR
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="JoinNearestTrack" ObjectId="7049d311-b9c1-401e-88ee-2d1a43482209">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">partOid := ipXtsMover.GetPositionInfo_partObjectId(cmdFeedback);

IF partOid = 0 THEN
	RETURN;
END_IF

IF cmdFeedback.IsDone THEN
	mcTrackOid := ipXtsProcessingUnit.XlPartWithOid(partOid, cmdFeedback).GetMcTrackOid(cmdFeedback);
	
	FOR nForCounter := 1 TO GVL_MC.nNumTracks DO
		objectInfo := GVL_MC.aMcTracks[nForCounter].GetPlanarObjectInfo();
		IF objectInfo.Id = mcTrackOid THEN
			fbPlanarMover.JoinTrack(fbPlanarFeedback, GVL_MC.aMcTracks[nForCounter], _stDynamics, 0); 
			RETURN;
		END_IF
	END_FOR
END_IF</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD JoinNearestTrack : BOOL


VAR_INST
	nForCounter: UINT;
	mcTrackOid: OTCID;
	partOid: OTCID;
	cmdFeedback					: 	XtsCommandFeedback;
	objectInfo: PlanarObjectInfo;
END_VAR
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="LeaveSystemAt" ObjectId="6b5686b0-ff62-458e-8370-b6983356eb85">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <inputVars>
                  <variable name="ConnectionOut">
                    <type>
                      <derived name="REFERENCE TO MC_PlanarTrackConnectionOut" />
                    </type>
                  </variable>
                  <variable name="gap">
                    <type>
                      <LREAL />
                    </type>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD LeaveSystemAt : BOOL
VAR_INPUT
	ConnectionOut: REFERENCE TO MC_PlanarTrackConnectionOut;
	gap : LREAL; 
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </inputVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">_stLeaveSystemAtOptions.gap := gap;
_stLeaveSystemAtOptions.gapMode := MC_GAP_MODE_ON_TRACK.Fast1D; 
_stLeaveSystemAtOptions.dynamicMode :=  MC_DYNAMIC_MODE_ON_TRACK.None;

fbPlanarMover.LeaveSystemAt(fbPlanarFeedback, ConnectionOut,  _stDynamics,_stLeaveSystemAtOptions);
</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD LeaveSystemAt : BOOL
VAR_INPUT
	ConnectionOut: REFERENCE TO MC_PlanarTrackConnectionOut;
	gap : LREAL; 
END_VAR
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="MoveOnTrack" ObjectId="5cb1162f-8066-466b-a4ab-0b247e872c60">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <inputVars>
                  <variable name="track">
                    <type>
                      <derived name="REFERENCE TO MC_PlanarTrack" />
                    </type>
                  </variable>
                  <variable name="targetPos">
                    <type>
                      <LREAL />
                    </type>
                  </variable>
                  <variable name="gap">
                    <type>
                      <LREAL />
                    </type>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD MoveOnTrack : BOOL
VAR_INPUT
	track: REFERENCE TO MC_PlanarTrack;	
	targetPos: LREAL;
	gap : LREAL; 
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </inputVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">_stMoveonTrackOptions.gap := gap; 

fbPlanarMover.MoveOnTrack(
	commandFeedback:= fbPlanarFeedback, 
	targetTrack:= track, 
	targetPositionOnTrack:= targetPos, 
	constraint:= _stDynamics, 
	options:= _stMoveOnTrackOptions);</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD MoveOnTrack : BOOL
VAR_INPUT
	track: REFERENCE TO MC_PlanarTrack;	
	targetPos: LREAL;
	gap : LREAL; 
END_VAR
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="SyncToOtherMover" ObjectId="9903c21e-709d-4928-99f6-93578aa23443">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
                <inputVars>
                  <variable name="masterSyncPos">
                    <type>
                      <LREAL />
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> Position on the master track</xhtml>
                    </documentation>
                  </variable>
                  <variable name="followerSyncPos">
                    <type>
                      <LREAL />
                    </type>
                    <documentation>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml"> position on the follower track</xhtml>
                    </documentation>
                  </variable>
                  <variable name="PlanarMoverToFollow">
                    <type>
                      <derived name="REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarMover" />
                    </type>
                  </variable>
                  <variable name="masterTrack">
                    <type>
                      <derived name="REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack" />
                    </type>
                  </variable>
                  <variable name="followerTrack">
                    <type>
                      <derived name="REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack" />
                    </type>
                  </variable>
                  <variable name="velo">
                    <type>
                      <derived name="REFERENCE TO LREAL" />
                    </type>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SyncToOtherMover : BOOL
VAR_INPUT
	masterSyncPos : LREAL; // Position on the master track
	followerSyncPos : LREAL; // position on the follower track
	PlanarMoverToFollow: REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarMover;
	masterTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	followerTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	velo : REFERENCE TO LREAL; 
END_VAR

VAR
	trail: Tc3_Mc3PlanarMotion.MC_PlanarTrackTrail;

END_VAR</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </inputVars>
                <localVars>
                  <variable name="trail">
                    <type>
                      <derived name="Tc3_Mc3PlanarMotion.MC_PlanarTrackTrail" />
                    </type>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SyncToOtherMover : BOOL
VAR_INPUT
	masterSyncPos : LREAL; // Position on the master track
	followerSyncPos : LREAL; // position on the follower track
	PlanarMoverToFollow: REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarMover;
	masterTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	followerTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	velo : REFERENCE TO LREAL; 
END_VAR

VAR
	trail: Tc3_Mc3PlanarMotion.MC_PlanarTrackTrail;

END_VAR</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </localVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">_GearInOptions.allowedSlaveSyncDirections := MC_SYNC_DIRECTIONS.Positive; 
_GearInOptions.directionMasterSyncPosition := MC_DIRECTION.mcDirectionNonModulo; 
_GearInOptions.directionSlaveSyncPosition := MC_DIRECTION.mcDirectionNonModulo;  
_GearInOptions.followMover := FALSE; 
_GearInOptions.gap := 0; // elimnate gap funciton 
_GearInOptions.inSyncToleranceDistance :=0; 
_GearInOptions.moduloToleranceMasterSyncPosition := 0; 
_GearInOptions.moduloToleranceSlaveSyncPosition := 0;  
_stDynamics.V := velo; 

fbPlanarMover.GearInPosOnTrackWithMasterMover(
	commandFeedback:=  SyncMoverFeedback , 
	masterMover:= PlanarMoverToFollow , 
	trackTrail:= _syncTrail, // may need to give a trail maybe not
	masterSyncPosition:= masterSyncPos, 
	masterSyncPositionTrack:= MasterTrack , 
	slaveSyncPosition:= followerSyncPos, 
	slaveSyncPositionTrack:= followerTrack, 
	constraint:=_stDynamics , 
	options:=_GearInOptions );
	</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SyncToOtherMover : BOOL
VAR_INPUT
	masterSyncPos : LREAL; // Position on the master track
	followerSyncPos : LREAL; // position on the follower track
	PlanarMoverToFollow: REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarMover;
	masterTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	followerTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	velo : REFERENCE TO LREAL; 
END_VAR

VAR
	trail: Tc3_Mc3PlanarMotion.MC_PlanarTrackTrail;

END_VAR</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/method" handleUnknown="implementation">
            <Method name="UpdateXtsTrack" ObjectId="21f4b176-5457-4b67-bca0-ab7203ad0675">
              <interface>
                <globalVars>
                  <variable name="nTrackCount">
                    <type>
                      <UINT />
                    </type>
                  </variable>
                  <variable name="oid1">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="oid2">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="nForCounter">
                    <type>
                      <UINT />
                    </type>
                  </variable>
                  <variable name="nPartConfigCount">
                    <type>
                      <UINT />
                    </type>
                  </variable>
                  <variable name="partConfig1">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="partConfig2">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="mcTrackOid1">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="mcTrackOid2">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="trackOid">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="nTrackTrailCount">
                    <type>
                      <UDINT />
                    </type>
                  </variable>
                  <variable name="actTrackOid">
                    <type>
                      <derived name="OTCID" />
                    </type>
                  </variable>
                  <variable name="nIndexInTrail">
                    <type>
                      <UDINT />
                    </type>
                  </variable>
                  <addData>
                    <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                      <InterfaceAsPlainText>
                        <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD PUBLIC UpdateXtsTrack
VAR_INPUT
END_VAR
VAR_STAT
	nTrackCount: UINT;
	oid1: OTCID;
	oid2: OTCID;
	
	nForCounter: UINT;
	nPartConfigCount: UINT;
	
	partConfig1: OTCID;
	partConfig2: OTCID;
	
	mcTrackOid1: OTCID;
	mcTrackOid2: OTCID;
	trackOid: OTCID;
	
	nTrackTrailCount: UDINT;
	actTrackOid: OTCID;
	nIndexInTrail: UDINT;
END_VAR
</xhtml>
                      </InterfaceAsPlainText>
                    </data>
                  </addData>
                </globalVars>
              </interface>
              <body>
                <ST>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">nTrackTrailCount := trackTrail.TrackCount;
actTrackOid := fbPlanarMover.MCTOPLC.SETONTRACK.TrackOID;

IF nTrackTrailCount &lt;= 1 THEN
	RETURN;
END_IF

FOR nForCounter := 1 TO UDINT_TO_UINT(nTrackTrailCount) DO
	oid1 := trackTrail.GetTrackOidAt(nForCounter);
	IF oid1 = actTrackOid THEN
		IF nForCounter &lt; nTrackTrailCount THEN
			oid2 := trackTrail.GetTrackOidAt(nForCounter + 1);
			EXIT;
		ELSE
			RETURN; //last one ine track trail
		END_IF
	END_IF
END_FOR

IF oid2 = _nextMcTrackOid AND ipXtsMover.GetPositionInfo_partPosition(CmdFeedback) &lt; 600 THEN //no change
	RETURN;
END_IF

nTrackCount := ipXtsProcessingUnit.TrackCount();

FOR nForCounter := 1 TO nTrackCount DO
	nPartConfigCount := ipXtsProcessingUnit.Track(nForCounter, CmdFeedback).PartConfigCount(); 
	
	IF nPartConfigCount &gt;= 2  THEN
		partConfig1 := ipXtsProcessingUnit.Track(nForCounter, CmdFeedback).GetPartConfigOidAt(1, 0);
		partConfig2 := ipXtsProcessingUnit.Track(nForCounter, CmdFeedback).GetPartConfigOidAt(2, 0);
//
		
		IF partConfig1 = 0 OR partConfig2 = 0 THEN
			CONTINUE;
		END_IF
		
		mcTrackOid1 := ipXtsProcessingUnit.XlPartWithOid(partConfig1, CmdFeedback).GetMcTrackOid(0);
		mcTrackOid2 := ipXtsProcessingUnit.XlPartWithOid(partConfig2, CmdFeedback).GetMcTrackOid(0);
		IF mcTrackOid1 = oid1 AND mcTrackOid2 = oid2   THEN
			trackOid := ipXtsProcessingUnit.Track(nForCounter, CmdFeedback).GetObjectId();
			ipXtsMover.SetActiveTrackObjectId(trackOid, CmdFeedback);
			
			IF CmdFeedback.IsDone THEN
				_nextMcTrackOid := oid2;
			END_IF
			
			RETURN;
		END_IF
	END_IF
END_FOR

</xhtml>
                </ST>
              </body>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD PUBLIC UpdateXtsTrack
VAR_INPUT
END_VAR
VAR_STAT
	nTrackCount: UINT;
	oid1: OTCID;
	oid2: OTCID;
	
	nForCounter: UINT;
	nPartConfigCount: UINT;
	
	partConfig1: OTCID;
	partConfig2: OTCID;
	
	mcTrackOid1: OTCID;
	mcTrackOid2: OTCID;
	trackOid: OTCID;
	
	nTrackTrailCount: UDINT;
	actTrackOid: OTCID;
	nIndexInTrail: UDINT;
END_VAR
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Method>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="distToEndOfTrack" ObjectId="73f87dbe-d3e0-40d5-a94b-2adcb27e9f3d">
              <interface>
                <returnType>
                  <LREAL />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">distToEndOfTrack := _distToEndOfTrack;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY distToEndOfTrack : Lreal</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="MoverStopped" ObjectId="04d60936-8878-4099-a93e-51ae708d75d9">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">MoverStopped := (fbPlanarMover.MCTOPLC.SETONTRACK.SetVelo &lt; 20);

</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY MoverStopped : BOOL</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_Dynamics" ObjectId="1ecca715-6941-4f72-8708-bfc5f157ffb4">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO DynamicConstraint_PathXY" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">
P_Dynamics REF= _stDynamics; </xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_Dynamics : REFERENCE TO DynamicConstraint_PathXY;</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_IsInitialized" ObjectId="b7011b40-0827-4f2c-9967-dcf04f3d6670">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">P_IsInitialized := _bIsInitialized;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_IsInitialized : bool</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_MoveOnTrackOptions" ObjectId="fb69dd5d-5a1c-486a-a084-fed687cabe26">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO ST_MoveOnTrackOptions" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">P_MoveOnTrackOptions REF= _stMoveOnTrackOptions;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_MoveOnTrackOptions  : REFERENCE TO  ST_MoveOnTrackOptions</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_MoverInfos" ObjectId="e247c7bf-cf6b-4d35-b73d-b6630d38bcfa">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO ST_MoverInfo" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">P_MoverInfos  REF= _stMoverInfos;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_MoverInfos : REFERENCE TO ST_MoverInfo</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="p_MoverOTCID" ObjectId="ce0ba360-bc0d-42ad-8903-9adb5e1a2946">
              <interface>
                <returnType>
                  <derived name="OTCID" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">p_MoverOTCID := fbPlanarMover.MCTOPLC.STD.MoverOID;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml" />
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY p_MoverOTCID : OTCID</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_PlanarFeedback" ObjectId="21da37fd-6f26-475d-beab-c040fa3e1691">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO MC_PlanarFeedback" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">P_PlanarFeedback REF= fbPlanarFeedback;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_PlanarFeedback : REFERENCE TO MC_PlanarFeedback</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_PlanarMover" ObjectId="ade24b6b-bd49-4670-bd83-4d8ea4dd5ac9">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO MC_PlanarMover" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">P_PlanarMover REF= fbPlanarMover;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_PlanarMover :   REFERENCE TO  MC_PlanarMover</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_SyncFeedback" ObjectId="d85f38ed-ffc5-44d4-bfc1-afe7972a3eda">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO MC_PlanarFeedbackGearInPosOnTrackWithMasterMover" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">P_SyncFeedback REF= SyncMoverFeedback; </xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_SyncFeedback :  REFERENCE TO MC_PlanarFeedbackGearInPosOnTrackWithMasterMover</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="P_TargetTrack" ObjectId="aa403c76-568e-4bf9-873b-2566a88e0af2">
              <interface>
                <returnType>
                  <UDINT />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">P_TargetTrack := _TargetTrack ;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">_TargetTrack := P_TargetTrack; </xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_TargetTrack : UDINT
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="Rework" ObjectId="0e60f93b-c652-4b1d-8202-d7b886cfe370">
              <interface>
                <returnType>
                  <BOOL />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">Rework := _Rework;
</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <SetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">_Rework := Rework;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Rework : BOOL
</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="XlProcessingUnit" ObjectId="c937fd04-ede7-4a06-bb80-d96e27dc80d2">
              <interface>
                <returnType>
                  <derived name="I_XtsProcessingUnit1" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">XlProcessingUnit := ipXtsProcessingUnit;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY XlProcessingUnit : I_XtsProcessingUnit1</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="XtsComFeed" ObjectId="77a11faf-2343-4c02-8b32-d650545bd2e9">
              <interface>
                <returnType>
                  <derived name="REFERENCE TO XtsCommandFeedback" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">XtsComFeed REF= CmdFeedback;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY XtsComFeed : REFERENCE TO  XtsCommandFeedback</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/property" handleUnknown="implementation">
            <Property name="XtsXlMover" ObjectId="70d89129-e56a-44f9-bf01-7348e90e5b05">
              <interface>
                <returnType>
                  <derived name="I_XtsXlMover1" />
                </returnType>
              </interface>
              <GetAccessor>
                <interface />
                <body>
                  <ST>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml">XtsXlMover := ipXtsMover;</xhtml>
                  </ST>
                </body>
                <InterfaceAsPlainText>
                  <xhtml xmlns="http://www.w3.org/1999/xhtml">VAR
END_VAR
</xhtml>
                </InterfaceAsPlainText>
                <addData />
              </GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY XtsXlMover : I_XtsXlMover1</xhtml>
              </InterfaceAsPlainText>
              <addData />
            </Property>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">{attribute 'no_assign'}
FUNCTION_BLOCK FB_Mover IMPLEMENTS I_Mover
VAR_INPUT
END_VAR
VAR_OUTPUT
END_VAR
VAR
	_bIsInitialized: BOOL;	

	fbPlanarMover : MC_PlanarMover;
	fbPlanarFeedback: MC_PlanarFeedback;
	trackTrail: MC_PlanarTrackTrail;
	SyncMoverFeedback: Tc3_Mc3PlanarMotion.MC_PlanarFeedbackGearInPosOnTrackWithMasterMover;
	
	_GearInOptions: Tc3_Mc3PlanarMotion.ST_GearInPosOnTrackWithMasterMoverOptions;
	_stMoveOnTrackOptions: ST_MoveOnTrackOptions;
	_stLeaveSystemAtOptions : ST_LeaveSystemAtOptions;
	
	_syncTrail : MC_PlanarTrackTrail;
	
	CmdFeedback :  XtsCommandFeedback;
	ipXtsMover:   I_XtsXlMover1;
	ipXtsProcessingUnit:  I_XtsProcessingUnit1;

	_stMoverInfos : ST_MoverInfo;	
	_stMoverOnTrackInfos : ST_MoverOnTrackInfo;

	_nextMcTrackOid: OTCID;
	_stDynamics: DynamicConstraint_PathXY;
	_TargetTrack : UDINT;
	_ReWork : BOOL;
	_partConfig: UINT;
	_InSync :BOOL; 
	_PositionOnTrack : LREAL;
	_Track : OTCID; 
	_distToEndOfTrack : LREAL;

	fbResult						: FB_TcMessage;
	_ipComObject					: ITComObject;
	PID_OnTrackInfos				: PTCID := 16#05030180;
	bInit 							: BOOL;
END_VAR
</xhtml>
            </InterfaceAsPlainText>
          </data>
          <data name="http://www.3s-software.com/plcopenxml/objectid" handleUnknown="discard">
            <ObjectId>198fd53d-d7b4-4fcb-b2eb-8f7ae59664d7</ObjectId>
          </data>
        </addData>
      </pou>
    </pous>
  </types>
  <instances>
    <configurations />
  </instances>
  <addData>
    <data name="http://www.3s-software.com/plcopenxml/interface" handleUnknown="implementation">
      <Interface name="I_Mover" ObjectId="b268cb59-d99c-43ca-ba0f-41461eab83e4">
        <Methods>
          <Method name="CycleUpdate" ObjectId="48e7b414-8a52-4904-8a2c-941ff8cf97f0">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
            </interface>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD CycleUpdate : BOOL
VAR_INPUT
END_VAR
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Method>
          <Method name="Init" ObjectId="70e27be2-2f8a-4a12-af9c-c87e7a1f6409">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
              <inputVars>
                <variable name="XtsMover">
                  <type>
                    <derived name="I_XtsXlMover1" />
                  </type>
                </variable>
                <variable name="XtsProcessingUnit">
                  <type>
                    <derived name="I_XtsProcessingUnit1" />
                  </type>
                </variable>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Init : BOOL
VAR_INPUT
	XtsMover:  I_XtsXlMover1;
	XtsProcessingUnit :  I_XtsProcessingUnit1;
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                  </data>
                </addData>
              </inputVars>
            </interface>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD Init : BOOL
VAR_INPUT
	XtsMover:  I_XtsXlMover1;
	XtsProcessingUnit :  I_XtsProcessingUnit1;
END_VAR
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Method>
          <Method name="JoinNearestTrack" ObjectId="1af77ee2-ffb0-46d3-b285-380f37f7d28e">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
            </interface>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD JoinNearestTrack : BOOL


VAR

END_VAR
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Method>
          <Method name="LeaveSystemAt" ObjectId="b24f1fa5-5146-4fc9-b97d-6c3d7849e67f">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
              <inputVars>
                <variable name="ConnectionOut">
                  <type>
                    <derived name="REFERENCE TO MC_PlanarTrackConnectionOut" />
                  </type>
                </variable>
                <variable name="gap">
                  <type>
                    <LREAL />
                  </type>
                </variable>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD LeaveSystemAt : BOOL
VAR_INPUT
	ConnectionOut: REFERENCE TO MC_PlanarTrackConnectionOut;	
	gap : LREAL; 		
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                  </data>
                </addData>
              </inputVars>
            </interface>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD LeaveSystemAt : BOOL
VAR_INPUT
	ConnectionOut: REFERENCE TO MC_PlanarTrackConnectionOut;	
	gap : LREAL; 		
END_VAR
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Method>
          <Method name="MoveOnTrack" ObjectId="c4ca36ea-3628-4f8d-9779-76967292fe61">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
              <inputVars>
                <variable name="track">
                  <type>
                    <derived name="REFERENCE TO MC_PlanarTrack" />
                  </type>
                </variable>
                <variable name="targetPos">
                  <type>
                    <LREAL />
                  </type>
                </variable>
                <variable name="gap">
                  <type>
                    <LREAL />
                  </type>
                </variable>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD MoveOnTrack : BOOL
VAR_INPUT
	track: REFERENCE TO MC_PlanarTrack;	
	targetPos: LREAL;
	gap : LREAL; 

END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                  </data>
                </addData>
              </inputVars>
            </interface>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD MoveOnTrack : BOOL
VAR_INPUT
	track: REFERENCE TO MC_PlanarTrack;	
	targetPos: LREAL;
	gap : LREAL; 

END_VAR
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Method>
          <Method name="SyncToOtherMover" ObjectId="53951dae-e642-4c0f-afd2-22812dd067a9">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
              <inputVars>
                <variable name="masterSyncPos">
                  <type>
                    <LREAL />
                  </type>
                  <documentation>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml"> Position on the master track</xhtml>
                  </documentation>
                </variable>
                <variable name="followerSyncPos">
                  <type>
                    <LREAL />
                  </type>
                  <documentation>
                    <xhtml xmlns="http://www.w3.org/1999/xhtml"> position on the follower track</xhtml>
                  </documentation>
                </variable>
                <variable name="PlanarMoverToFollow">
                  <type>
                    <derived name="REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarMover" />
                  </type>
                </variable>
                <variable name="masterTrack">
                  <type>
                    <derived name="REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack" />
                  </type>
                </variable>
                <variable name="followerTrack">
                  <type>
                    <derived name="REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack" />
                  </type>
                </variable>
                <variable name="velo">
                  <type>
                    <derived name="REFERENCE TO LREAL" />
                  </type>
                </variable>
                <addData>
                  <data name="http://www.3s-software.com/plcopenxml/interfaceasplaintext" handleUnknown="implementation">
                    <InterfaceAsPlainText>
                      <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SyncToOtherMover : Bool
VAR_INPUT
	masterSyncPos : LREAL; // Position on the master track
	followerSyncPos : LREAL; // position on the follower track
	PlanarMoverToFollow: REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarMover;
	masterTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	followerTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	velo :  REFERENCE TO LREAL; 
END_VAR
</xhtml>
                    </InterfaceAsPlainText>
                  </data>
                </addData>
              </inputVars>
            </interface>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD SyncToOtherMover : Bool
VAR_INPUT
	masterSyncPos : LREAL; // Position on the master track
	followerSyncPos : LREAL; // position on the follower track
	PlanarMoverToFollow: REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarMover;
	masterTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	followerTrack : REFERENCE TO Tc3_Mc3PlanarMotion.MC_PlanarTrack; 
	velo :  REFERENCE TO LREAL; 
END_VAR
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Method>
          <Method name="UpdateXtsTrack" ObjectId="f15d0a33-41f6-42cf-a0d1-8e20b2064dca">
            <interface />
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">METHOD  UpdateXtsTrack
VAR_INPUT
END_VAR
VAR

END_VAR
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Method>
        </Methods>
        <Properties>
          <Property name="distToEndOfTrack" ObjectId="54946fd7-00e4-4584-be84-948ea3635443">
            <interface>
              <returnType>
                <LREAL />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY distToEndOfTrack : Lreal</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="MoverStopped" ObjectId="9803e80b-12ab-4e37-a4f8-315195184be1">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </SetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY MoverStopped : BOOL</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="P_Dynamics" ObjectId="a2d4066c-df4e-4534-b63b-1bcfe3693364">
            <interface>
              <returnType>
                <derived name="REFERENCE TO DynamicConstraint_PathXY" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_Dynamics : REFERENCE TO DynamicConstraint_PathXY;</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="P_IsInitialized" ObjectId="809c04b6-b7db-4fb8-a7e6-29c53b002db8">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_IsInitialized : bool</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="P_MoverOTCID" ObjectId="48d62f0a-81b1-4685-945a-1fd17f9606ba">
            <interface>
              <returnType>
                <derived name="OTCID" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </SetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_MoverOTCID : OTCID</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="P_PlanarFeedback" ObjectId="9e77b007-b995-4d4e-847f-52481bc8b65f">
            <interface>
              <returnType>
                <derived name="REFERENCE TO MC_PlanarFeedback" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_PlanarFeedback : REFERENCE TO MC_PlanarFeedback</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="P_PlanarMover" ObjectId="fa6a8c9a-a607-48a6-a503-b7396c44d435">
            <interface>
              <returnType>
                <derived name="REFERENCE TO MC_PlanarMover" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_PlanarMover :   REFERENCE TO  MC_PlanarMover</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="P_SyncFeedback" ObjectId="44e12130-9d7b-42f1-8fbe-83c3e8bf9e21">
            <interface>
              <returnType>
                <derived name="REFERENCE TO MC_PlanarFeedbackGearInPosOnTrackWithMasterMover" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_SyncFeedback :  REFERENCE TO MC_PlanarFeedbackGearInPosOnTrackWithMasterMover</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="P_TargetTrack" ObjectId="efe12142-6a27-4117-844c-b25d6699356f">
            <interface>
              <returnType>
                <UDINT />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </SetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY P_TargetTrack : UDINT
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="Rework" ObjectId="0cbdc2c5-5567-4b77-b67c-5f6aa39ca7ad">
            <interface>
              <returnType>
                <BOOL />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <SetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </SetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY Rework : BOOL
</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="XlProcessingUnit" ObjectId="4fb3d0ec-89c3-4528-ba23-e01b215f5acc">
            <interface>
              <returnType>
                <derived name="I_XtsProcessingUnit1" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY XlProcessingUnit : I_XtsProcessingUnit1</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="XtsComFeed" ObjectId="9b70f023-8c1f-45c7-92b4-2da0d8c5dc09">
            <interface>
              <returnType>
                <derived name="REFERENCE TO XtsCommandFeedback" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY XtsComFeed : REFERENCE TO  XtsCommandFeedback</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
          <Property name="XtsXlMover" ObjectId="bb8d0ca5-767e-4004-9c86-a2c6dc44ab36">
            <interface>
              <returnType>
                <derived name="I_XtsXlMover1" />
              </returnType>
            </interface>
            <GetAccessor>
              <InterfaceAsPlainText>
                <xhtml xmlns="http://www.w3.org/1999/xhtml" />
              </InterfaceAsPlainText>
            </GetAccessor>
            <InterfaceAsPlainText>
              <xhtml xmlns="http://www.w3.org/1999/xhtml">PROPERTY XtsXlMover :  I_XtsXlMover1</xhtml>
            </InterfaceAsPlainText>
            <addData />
          </Property>
        </Properties>
        <InterfaceAsPlainText>
          <xhtml xmlns="http://www.w3.org/1999/xhtml">
INTERFACE I_Mover
</xhtml>
        </InterfaceAsPlainText>
        <addData />
      </Interface>
    </data>
    <data name="http://www.3s-software.com/plcopenxml/projectstructure" handleUnknown="discard">
      <ProjectStructure>
        <Folder Name="XlMover">
          <Folder Name="DUTs">
            <Object Name="DUT" ObjectId="c0343946-28b4-4019-897a-aad4e77d6aa1" />
            <Object Name="ST_MoverInfo" ObjectId="078d4599-567e-474f-b4fc-f0d653375f67" />
            <Object Name="ST_MoverOnTrackInfo" ObjectId="0e1293e3-4563-4c2c-947a-9b87389363ac" />
          </Folder>
          <Folder Name="ITFs">
            <Object Name="I_Mover" ObjectId="b268cb59-d99c-43ca-ba0f-41461eab83e4">
              <Object Name="CycleUpdate" ObjectId="48e7b414-8a52-4904-8a2c-941ff8cf97f0" />
              <Object Name="distToEndOfTrack" ObjectId="54946fd7-00e4-4584-be84-948ea3635443" />
              <Object Name="Init" ObjectId="70e27be2-2f8a-4a12-af9c-c87e7a1f6409" />
              <Object Name="JoinNearestTrack" ObjectId="1af77ee2-ffb0-46d3-b285-380f37f7d28e" />
              <Object Name="LeaveSystemAt" ObjectId="b24f1fa5-5146-4fc9-b97d-6c3d7849e67f" />
              <Object Name="MoveOnTrack" ObjectId="c4ca36ea-3628-4f8d-9779-76967292fe61" />
              <Object Name="MoverStopped" ObjectId="9803e80b-12ab-4e37-a4f8-315195184be1" />
              <Object Name="P_Dynamics" ObjectId="a2d4066c-df4e-4534-b63b-1bcfe3693364" />
              <Object Name="P_IsInitialized" ObjectId="809c04b6-b7db-4fb8-a7e6-29c53b002db8" />
              <Object Name="P_MoverOTCID" ObjectId="48d62f0a-81b1-4685-945a-1fd17f9606ba" />
              <Object Name="P_PlanarFeedback" ObjectId="9e77b007-b995-4d4e-847f-52481bc8b65f" />
              <Object Name="P_PlanarMover" ObjectId="fa6a8c9a-a607-48a6-a503-b7396c44d435" />
              <Object Name="P_SyncFeedback" ObjectId="44e12130-9d7b-42f1-8fbe-83c3e8bf9e21" />
              <Object Name="P_TargetTrack" ObjectId="efe12142-6a27-4117-844c-b25d6699356f" />
              <Object Name="Rework" ObjectId="0cbdc2c5-5567-4b77-b67c-5f6aa39ca7ad" />
              <Object Name="SyncToOtherMover" ObjectId="53951dae-e642-4c0f-afd2-22812dd067a9" />
              <Object Name="UpdateXtsTrack" ObjectId="f15d0a33-41f6-42cf-a0d1-8e20b2064dca" />
              <Object Name="XlProcessingUnit" ObjectId="4fb3d0ec-89c3-4528-ba23-e01b215f5acc" />
              <Object Name="XtsComFeed" ObjectId="9b70f023-8c1f-45c7-92b4-2da0d8c5dc09" />
              <Object Name="XtsXlMover" ObjectId="bb8d0ca5-767e-4004-9c86-a2c6dc44ab36" />
            </Object>
          </Folder>
          <Folder Name="POUs">
            <Object Name="FB_Mover" ObjectId="198fd53d-d7b4-4fcb-b2eb-8f7ae59664d7">
              <Object Name="CycleUpdate" ObjectId="f03058aa-6296-4ef4-9484-d5b71f801a75" />
              <Object Name="distToEndOfTrack" ObjectId="73f87dbe-d3e0-40d5-a94b-2adcb27e9f3d" />
              <Object Name="GetComObject" ObjectId="91c739c1-09e3-4950-bc67-3b2aa97918ba" />
              <Object Name="GetOnTrackInfos" ObjectId="80c76236-e464-41c7-ade3-18309c2f7e10" />
              <Object Name="Init" ObjectId="64dda721-646a-4cf1-ab7d-9993c2a9294b" />
              <Object Name="JoinNearestTrack" ObjectId="7049d311-b9c1-401e-88ee-2d1a43482209" />
              <Object Name="LeaveSystemAt" ObjectId="6b5686b0-ff62-458e-8370-b6983356eb85" />
              <Object Name="MoveOnTrack" ObjectId="5cb1162f-8066-466b-a4ab-0b247e872c60" />
              <Object Name="MoverStopped" ObjectId="04d60936-8878-4099-a93e-51ae708d75d9" />
              <Object Name="P_Dynamics" ObjectId="1ecca715-6941-4f72-8708-bfc5f157ffb4" />
              <Object Name="P_IsInitialized" ObjectId="b7011b40-0827-4f2c-9967-dcf04f3d6670" />
              <Object Name="P_MoveOnTrackOptions" ObjectId="fb69dd5d-5a1c-486a-a084-fed687cabe26" />
              <Object Name="P_MoverInfos" ObjectId="e247c7bf-cf6b-4d35-b73d-b6630d38bcfa" />
              <Object Name="p_MoverOTCID" ObjectId="ce0ba360-bc0d-42ad-8903-9adb5e1a2946" />
              <Object Name="P_PlanarFeedback" ObjectId="21da37fd-6f26-475d-beab-c040fa3e1691" />
              <Object Name="P_PlanarMover" ObjectId="ade24b6b-bd49-4670-bd83-4d8ea4dd5ac9" />
              <Object Name="P_SyncFeedback" ObjectId="d85f38ed-ffc5-44d4-bfc1-afe7972a3eda" />
              <Object Name="P_TargetTrack" ObjectId="aa403c76-568e-4bf9-873b-2566a88e0af2" />
              <Object Name="Rework" ObjectId="0e60f93b-c652-4b1d-8202-d7b886cfe370" />
              <Object Name="SyncToOtherMover" ObjectId="9903c21e-709d-4928-99f6-93578aa23443" />
              <Object Name="UpdateXtsTrack" ObjectId="21f4b176-5457-4b67-bca0-ab7203ad0675" />
              <Object Name="XlProcessingUnit" ObjectId="c937fd04-ede7-4a06-bb80-d96e27dc80d2" />
              <Object Name="XtsComFeed" ObjectId="77a11faf-2343-4c02-8b32-d650545bd2e9" />
              <Object Name="XtsXlMover" ObjectId="70d89129-e56a-44f9-bf01-7348e90e5b05" />
            </Object>
          </Folder>
        </Folder>
      </ProjectStructure>
    </data>
  </addData>
</project>